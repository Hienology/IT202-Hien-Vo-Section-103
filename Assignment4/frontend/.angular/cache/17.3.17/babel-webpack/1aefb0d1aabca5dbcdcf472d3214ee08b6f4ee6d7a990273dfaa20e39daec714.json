{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/IT202-Hien-Vo-Section-103/Assignment4/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction OrderReviewComponent_div_4_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function OrderReviewComponent_div_4_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵtext(1, \" Confirm & Submit Order \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrderReviewComponent_div_4_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function OrderReviewComponent_div_4_div_12_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.goBack());\n    });\n    i0.ɵɵtext(4, \"Go Back to Home\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.successMessage);\n  }\n}\nfunction OrderReviewComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 6);\n    i0.ɵɵelementStart(3, \"div\")(4, \"h4\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h5\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 8);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(10, \"hr\");\n    i0.ɵɵtemplate(11, OrderReviewComponent_div_4_button_11_Template, 2, 0, \"button\", 9)(12, OrderReviewComponent_div_4_div_12_Template, 5, 1, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.selectedProduct.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedProduct.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r1.selectedProduct.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedProduct.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.successMessage);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.successMessage);\n  }\n}\nexport class OrderReviewComponent {\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.selectedProduct = null;\n    this.successMessage = \"\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.selectedProduct = yield _this.productService.getSelectedProduct();\n      } catch (error) {\n        console.error(\"Error fetching selection:\", error);\n      }\n    })();\n  }\n  onSubmit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield _this2.productService.submitOrder({});\n        _this2.successMessage = response.message;\n      } catch (error) {\n        alert(\"Order failed. Please try again.\");\n      }\n    })();\n  }\n  goBack() {\n    this.router.navigate(['/']);\n  }\n  static {\n    this.ɵfac = function OrderReviewComponent_Factory(t) {\n      return new (t || OrderReviewComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrderReviewComponent,\n      selectors: [[\"app-order-review\"]],\n      decls: 5,\n      vars: 1,\n      consts: [[1, \"container\", \"mt-5\"], [1, \"card\", \"mx-auto\", 2, \"max-width\", \"600px\"], [1, \"card-header\", \"bg-success\", \"text-white\"], [\"class\", \"card-body\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\"], [1, \"rounded\", \"me-3\", 2, \"width\", \"100px\", \"height\", \"100px\", \"object-fit\", \"cover\", 3, \"src\"], [1, \"text-muted\"], [1, \"mb-0\"], [\"class\", \"btn btn-success w-100 btn-lg\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"text-center mt-3\", 4, \"ngIf\"], [1, \"btn\", \"btn-success\", \"w-100\", \"btn-lg\", 3, \"click\"], [1, \"text-center\", \"mt-3\"], [1, \"alert\", \"alert-success\"], [1, \"btn\", \"btn-secondary\", \"mt-2\", 3, \"click\"]],\n      template: function OrderReviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3, \"Review Your Order\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, OrderReviewComponent_div_4_Template, 13, 6, \"div\", 3);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedProduct);\n        }\n      },\n      dependencies: [i3.NgIf],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","OrderReviewComponent_div_4_button_11_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onSubmit","ɵɵtext","ɵɵelementEnd","OrderReviewComponent_div_4_div_12_Template_button_click_3_listener","_r3","goBack","ɵɵadvance","ɵɵtextInterpolate","successMessage","ɵɵelement","ɵɵtemplate","OrderReviewComponent_div_4_button_11_Template","OrderReviewComponent_div_4_div_12_Template","ɵɵproperty","selectedProduct","image","ɵɵsanitizeUrl","name","ɵɵtextInterpolate1","price","description","OrderReviewComponent","constructor","productService","router","ngOnInit","_this","_asyncToGenerator","getSelectedProduct","error","console","_this2","response","submitOrder","message","alert","navigate","ɵɵdirectiveInject","i1","ProductService","i2","Router","selectors","decls","vars","consts","template","OrderReviewComponent_Template","rf","ctx","OrderReviewComponent_div_4_Template"],"sources":["/workspaces/IT202-Hien-Vo-Section-103/Assignment4/frontend/src/app/components/order-review/order-review.component.ts","/workspaces/IT202-Hien-Vo-Section-103/Assignment4/frontend/src/app/components/order-review/order-review.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProductService } from '../../services/product.service';\n\n@Component({\n  selector: 'app-order-review',\n  templateUrl: './order-review.component.html'\n})\nexport class OrderReviewComponent implements OnInit {\n  selectedProduct = null;\n  successMessage = \"\";\n\n  constructor(private productService: ProductService, private router: Router) { }\n\n  async ngOnInit() {\n    try {\n      this.selectedProduct = await this.productService.getSelectedProduct();\n    } catch (error) {\n      console.error(\"Error fetching selection:\", error);\n    }\n  }\n\n  async onSubmit() {\n    try {\n      const response = await this.productService.submitOrder({});\n      this.successMessage = response.message;\n    } catch (error) {\n      alert(\"Order failed. Please try again.\");\n    }\n  }\n\n  goBack() {\n    this.router.navigate(['/']);\n  }\n}","<div class=\"container mt-5\">\n  <div class=\"card mx-auto\" style=\"max-width: 600px;\">\n    <div class=\"card-header bg-success text-white\">Review Your Order</div>\n    \n    <div class=\"card-body\" *ngIf=\"selectedProduct\">\n      <div class=\"d-flex align-items-center mb-3\">\n        <img [src]=\"selectedProduct.image\" class=\"rounded me-3\" style=\"width: 100px; height: 100px; object-fit: cover;\">\n        <div>\n          <h4>{{ selectedProduct.name }}</h4>\n          <h5 class=\"text-muted\">${{ selectedProduct.price }}</h5>\n          <p class=\"mb-0\">{{ selectedProduct.description }}</p>\n        </div>\n      </div>\n      <hr>\n\n      <button *ngIf=\"!successMessage\" class=\"btn btn-success w-100 btn-lg\" (click)=\"onSubmit()\">\n        Confirm & Submit Order\n      </button>\n\n      <div *ngIf=\"successMessage\" class=\"text-center mt-3\">\n        <div class=\"alert alert-success\">{{ successMessage }}</div>\n        <button class=\"btn btn-secondary mt-2\" (click)=\"goBack()\">Go Back to Home</button>\n      </div>\n    </div>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}