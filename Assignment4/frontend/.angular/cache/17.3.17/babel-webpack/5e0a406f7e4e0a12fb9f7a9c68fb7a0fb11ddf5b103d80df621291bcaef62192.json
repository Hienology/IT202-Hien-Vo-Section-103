{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/IT202-Hien-Vo-Section-103/Assignment4/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"../../services/http.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ProductListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"span\", 9);\n    i0.ɵɵtext(3, \"Loading products...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 10);\n    i0.ɵɵtext(5, \"Loading products...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"i\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction ProductListComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵelement(2, \"img\", 17);\n    i0.ɵɵelementStart(3, \"div\", 18)(4, \"h5\", 19);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 20);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 21)(9, \"h4\", 22);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_8_div_1_Template_button_click_11_listener() {\n      const product_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.onBuyNow(product_r3));\n    });\n    i0.ɵɵelement(12, \"i\", 24);\n    i0.ɵɵtext(13, \" Buy Now \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", product_r3.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", product_r3.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r3.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"$\", product_r3.price.toFixed(2), \"\");\n  }\n}\nfunction ProductListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, ProductListComponent_div_8_div_1_Template, 14, 5, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.products);\n  }\n}\nfunction ProductListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"i\", 25);\n    i0.ɵɵelementStart(2, \"p\", 10);\n    i0.ɵɵtext(3, \"No products available at the moment.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ProductListComponent {\n  constructor(productService, httpService, router) {\n    this.productService = productService;\n    this.httpService = httpService;\n    this.router = router;\n    this.products = [];\n    this.loading = false;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.loading = true;\n      try {\n        _this.products = yield _this.productService.getProducts();\n        _this.loading = false;\n        _this.errorMessage = '';\n      } catch (err) {\n        _this.errorMessage = 'Failed to load products';\n        _this.loading = false;\n        console.error('Error loading products:', err);\n      }\n    })();\n  }\n  onBuyNow(product) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Send selected product to backend\n        yield _this2.httpService.post('select-product', {\n          productId: product.id\n        });\n        // Navigate to order review page\n        _this2.router.navigate(['/order-review']);\n      } catch (err) {\n        console.error('Failed to select product:', err);\n        alert('Failed to select product. Please try again.');\n      }\n    })();\n  }\n  static {\n    this.ɵfac = function ProductListComponent_Factory(t) {\n      return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductListComponent,\n      selectors: [[\"app-product-list\"]],\n      decls: 10,\n      vars: 4,\n      consts: [[1, \"container\", \"my-5\"], [1, \"text-center\", \"mb-5\"], [1, \"display-4\"], [1, \"lead\", \"text-muted\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4\", 4, \"ngIf\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-3\", \"text-muted\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [1, \"bi\", \"bi-exclamation-triangle-fill\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-2\", \"row-cols-lg-4\", \"g-4\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [1, \"card\", \"h-100\", \"shadow-sm\", \"hover-card\"], [1, \"card-img-top\", \"product-image\", 3, \"src\", \"alt\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [1, \"card-title\"], [1, \"card-text\", \"text-muted\", \"flex-grow-1\"], [1, \"mt-auto\"], [1, \"text-primary\", \"mb-3\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"click\"], [1, \"bi\", \"bi-cart-check\"], [1, \"bi\", \"bi-inbox\", \"display-1\", \"text-muted\"]],\n      template: function ProductListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Our Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 3);\n          i0.ɵɵtext(5, \"Browse our selection of quality office furniture and equipment\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(6, ProductListComponent_div_6_Template, 6, 0, \"div\", 4)(7, ProductListComponent_div_7_Template, 3, 1, \"div\", 5)(8, ProductListComponent_div_8_Template, 2, 1, \"div\", 6)(9, ProductListComponent_div_9_Template, 4, 0, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.errorMessage && ctx.products.length === 0);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵlistener","ProductListComponent_div_8_div_1_Template_button_click_11_listener","product_r3","ɵɵrestoreView","_r2","$implicit","ɵɵnextContext","ɵɵresetView","onBuyNow","ɵɵproperty","imageUrl","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","description","price","toFixed","ɵɵtemplate","ProductListComponent_div_8_div_1_Template","products","ProductListComponent","constructor","productService","httpService","router","loading","ngOnInit","loadProducts","_this","_asyncToGenerator","getProducts","err","console","error","product","_this2","post","productId","id","navigate","alert","ɵɵdirectiveInject","i1","ProductService","i2","HttpService","i3","Router","selectors","decls","vars","consts","template","ProductListComponent_Template","rf","ctx","ProductListComponent_div_6_Template","ProductListComponent_div_7_Template","ProductListComponent_div_8_Template","ProductListComponent_div_9_Template","length"],"sources":["/workspaces/IT202-Hien-Vo-Section-103/Assignment4/frontend/src/app/components/product-list/product-list.component.ts","/workspaces/IT202-Hien-Vo-Section-103/Assignment4/frontend/src/app/components/product-list/product-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProductService } from '../../services/product.service';\nimport { HttpService } from '../../services/http.service';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrl: './product-list.component.css'\n})\nexport class ProductListComponent implements OnInit {\n  products: any[] = [];\n  loading: boolean = false;\n  errorMessage: string = '';\n\n  constructor(\n    private productService: ProductService,\n    private httpService: HttpService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loadProducts();\n  }\n\n  async loadProducts(): Promise<void> {\n    this.loading = true;\n    \n    try {\n      this.products = await this.productService.getProducts();\n      this.loading = false;\n      this.errorMessage = '';\n    } catch (err) {\n      this.errorMessage = 'Failed to load products';\n      this.loading = false;\n      console.error('Error loading products:', err);\n    }\n  }\n\n  async onBuyNow(product: any): Promise<void> {\n    try {\n      // Send selected product to backend\n      await this.httpService.post('select-product', { productId: product.id });\n      \n      // Navigate to order review page\n      this.router.navigate(['/order-review']);\n    } catch (err) {\n      console.error('Failed to select product:', err);\n      alert('Failed to select product. Please try again.');\n    }\n  }\n}\n","<div class=\"container my-5\">\n  <div class=\"text-center mb-5\">\n    <h1 class=\"display-4\">Our Products</h1>\n    <p class=\"lead text-muted\">Browse our selection of quality office furniture and equipment</p>\n  </div>\n  \n  <div *ngIf=\"loading\" class=\"text-center py-5\">\n    <div class=\"spinner-border text-primary\" role=\"status\">\n      <span class=\"visually-hidden\">Loading products...</span>\n    </div>\n    <p class=\"mt-3 text-muted\">Loading products...</p>\n  </div>\n  \n  <div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\n    <i class=\"bi bi-exclamation-triangle-fill\"></i> {{ errorMessage }}\n  </div>\n  \n  <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4\" *ngIf=\"!loading && !errorMessage\">\n    <div class=\"col\" *ngFor=\"let product of products\">\n      <div class=\"card h-100 shadow-sm hover-card\">\n        <img [src]=\"product.imageUrl\" [alt]=\"product.name\" class=\"card-img-top product-image\">\n        <div class=\"card-body d-flex flex-column\">\n          <h5 class=\"card-title\">{{ product.name }}</h5>\n          <p class=\"card-text text-muted flex-grow-1\">{{ product.description }}</p>\n          <div class=\"mt-auto\">\n            <h4 class=\"text-primary mb-3\">${{ product.price.toFixed(2) }}</h4>\n            <button class=\"btn btn-success w-100\" (click)=\"onBuyNow(product)\">\n              <i class=\"bi bi-cart-check\"></i> Buy Now\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <div *ngIf=\"!loading && !errorMessage && products.length === 0\" class=\"text-center py-5\">\n    <i class=\"bi bi-inbox display-1 text-muted\"></i>\n    <p class=\"mt-3 text-muted\">No products available at the moment.</p>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}